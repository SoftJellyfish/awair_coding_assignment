{"ast":null,"code":"var _jsxFileName = \"/Users/jellyfish/Desktop/coding_assignments/awair/awair_coding_assignment/src/components/MainPage/MainPage.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport axios from 'axios';\nimport styled from 'styled-components';\nimport { DataGrid } from '@mui/x-data-grid';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst TableContainer = styled.div`\n    width: 100%;\n    height: 500px;\n`;\n_c = TableContainer;\nconst LabelContainer = styled.div`\n    width: 100%;\n    display: flex;\n`;\nconst Row = styled.div`\n    width: 100%;\n    display: flex;\n`;\nconst Title = styled.div`\n    width: 20%;\n    margin: 20px;\n`;\nconst Start = styled.div`\n    width: 20%;\n    margin: 20px;\n`;\nconst End = styled.div`\n    width: auto;\n    margin: 20px;\n`;\n\nfunction MainPage() {\n  _s();\n\n  const [events, setEvents] = React.useState([]);\n  const [curPage, setCurPage] = React.useState(1);\n  const [nextPageTok, setNextPageTok] = React.useState('');\n  console.log('events: ', events);\n  console.log('events length: ', events.length);\n\n  const getEvents = async () => {\n    await axios.get(`https://mobile-app-interview.awair.is/events`).then(response => {\n      console.log('response:', response.data);\n      setEvents(response.data.events);\n      setNextPageTok(response.data.next_page_token);\n    }).catch(error => {\n      console.log('error: ', error);\n    });\n  };\n\n  const getNextPage = async () => {\n    await axios.get(`https://mobile-app-interview.awair.is/events?next_page_token={${nextPageTok}}`).then(response => {\n      console.log('response:', response.data);\n      setEvents(response.data.events);\n      setNextPageTok(response.data.next_page_token);\n    }).catch(error => {\n      console.log('error: ', error);\n    });\n  };\n\n  const columns = [{\n    field: 'title',\n    headerName: 'TITLE',\n    width: 300\n  }, {\n    field: 'start',\n    headerName: 'START',\n    width: 300\n  }, {\n    field: 'end',\n    headerName: 'END',\n    width: 300\n  }];\n  React.useEffect(async () => {\n    if (events.length === 0) {\n      getEvents();\n    }\n  }, [events]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(TableContainer, {\n      children: /*#__PURE__*/_jsxDEV(DataGrid, {\n        rows: events,\n        columns: columns,\n        getRowId: events => events.title,\n        pageSize: 5,\n        rowsPerPageOptions: [5],\n        onPageChange: () => getNextPage(),\n        checkboxSelection: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n\n_s(MainPage, \"g8fRbVdmlz5pmzvTb/zcQ7uIqC0=\");\n\n_c2 = MainPage;\nexport default MainPage;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"TableContainer\");\n$RefreshReg$(_c2, \"MainPage\");","map":{"version":3,"sources":["/Users/jellyfish/Desktop/coding_assignments/awair/awair_coding_assignment/src/components/MainPage/MainPage.js"],"names":["React","axios","styled","DataGrid","TableContainer","div","LabelContainer","Row","Title","Start","End","MainPage","events","setEvents","useState","curPage","setCurPage","nextPageTok","setNextPageTok","console","log","length","getEvents","get","then","response","data","next_page_token","catch","error","getNextPage","columns","field","headerName","width","useEffect","title"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport styled from 'styled-components';\nimport { DataGrid } from '@mui/x-data-grid';\n\n\nconst TableContainer = styled.div`\n    width: 100%;\n    height: 500px;\n`;\n\nconst LabelContainer = styled.div`\n    width: 100%;\n    display: flex;\n`;\n\nconst Row = styled.div`\n    width: 100%;\n    display: flex;\n`;\n\nconst Title = styled.div`\n    width: 20%;\n    margin: 20px;\n`;\nconst Start = styled.div`\n    width: 20%;\n    margin: 20px;\n`;\nconst End = styled.div`\n    width: auto;\n    margin: 20px;\n`;\n\nfunction MainPage() {\n\n    const [events, setEvents] = React.useState([]);\n    const [curPage, setCurPage] = React.useState(1);\n    const [nextPageTok, setNextPageTok] = React.useState('');\n\n    console.log('events: ', events);\n    console.log('events length: ', events.length);\n\n    const getEvents = async () => {\n        await axios.get(`https://mobile-app-interview.awair.is/events`)\n        .then((response) => {\n            console.log('response:', response.data);\n            setEvents(response.data.events);\n            setNextPageTok(response.data.next_page_token);\n        })\n        .catch((error) => {\n            console.log('error: ', error);\n        });\n    }\n\n    const getNextPage = async () => {\n        await axios.get(`https://mobile-app-interview.awair.is/events?next_page_token={${nextPageTok}}`)\n        .then((response) => {\n            console.log('response:', response.data);\n            setEvents(response.data.events);\n            setNextPageTok(response.data.next_page_token);\n        })\n        .catch((error) => {\n            console.log('error: ', error);\n        });\n    }\n\n\n    const columns = [\n        { field: 'title', headerName: 'TITLE', width: 300 },\n        { field: 'start', headerName: 'START', width: 300 },\n        { field: 'end', headerName: 'END', width: 300 }\n    ]\n\n    React.useEffect(async () => {\n            if (events.length === 0) {\n                getEvents();\n            }\n      }, [events]);\n\n    return (\n        <>\n            <TableContainer>\n                <DataGrid\n                    rows={events}\n                    columns={columns}\n                    getRowId={(events) => events.title}\n                    pageSize={5}\n                    rowsPerPageOptions={[5]}\n                    onPageChange={() => getNextPage()}\n                    checkboxSelection\n                />\n                {/* <LabelContainer>\n                    <Title style={{ fontWeight: 'bold'}}>TITLE</Title>\n                    <Start style={{ fontWeight: 'bold'}}>START</Start>\n                    <End style={{ fontWeight: 'bold'}}>END</End>\n                </LabelContainer>\n                {\n                    events.length != 0 ? events.data.events.map((index) => {\n                        return (\n                            <>\n                            <Row>\n                                <Title>{index.title === '' ? 'NO TITLE' : index.title}</Title>\n                                <Start>{index.start}</Start>\n                                <End>{index.end}</End>\n                            </Row>\n                            </>\n                        );\n                    })\n                    :\n                    null\n                } */}\n            </TableContainer>\n\n            </>\n    );\n}\n\nexport default MainPage;"]},"metadata":{},"sourceType":"module"}